========================================================================
DEPLOYMENT GUIDE: NODE.JS BLOG ON RAILWAY OR RENDER.COM
========================================================================

Choose your preferred hosting platform:

------------------------------------------------------------------------
OPTION A: DEPLOY ON RAILWAY (RECOMMENDED FOR SQLITE)
------------------------------------------------------------------------
1. Go to https://railway.app and sign up with your GitHub account.
2. Click "New Project" and select "Deploy from GitHub".
3. Select your repository containing this code.
4. On the "Configure Build and Deploy" page:
   - Build Command: npm install
   - Start Command: npm start
5. Add the following environment variables in the "Variables" tab:
   - JWT_SECRET: (generate a strong secret)
   - PORT: 3000 (or leave empty for Railway default)
   - DATABASE_TYPE: sqlite (to use SQLite instead of MySQL)
   - NODE_ENV: production
6. Click "Deploy".

------------------------------------------------------------------------
OPTION B: DEPLOY ON RENDER.COM WITH SQLITE
------------------------------------------------------------------------
1. Go to https://render.com and sign up with your GitHub account.
2. Click the "New +" button and select "Web Service".
3. Connect your GitHub repository.
4. Set the following Build and Run settings:
   - Environment: Node
   - Build Command: npm install
   - Start Command: npm start
5. Click on "Advanced" and then "Add Environment Variable".
6. Add the following variables:
   - JWT_SECRET: (generate a strong secret)
   - DATABASE_TYPE: sqlite
   - NODE_ENV: production

7. Click "Deploy Web Service".

------------------------------------------------------------------------
OPTION C: DEPLOY ON RENDER.COM WITH AIVEN.IO MYSQL
------------------------------------------------------------------------
1. Go to https://aiven.io and sign up for a free account.
2. Click "Create Service".
3. Select "MySQL".
4. Choose the "Free Plan" (select a region near you).
5. Give your service a name (e.g., "blog-db") and click "Create Service".
6. Once the service status is "Running", you will see the "Connection Information" panel.
7. Locate the following values - you will need them for Step 3:
   - Host
   - Port
   - User (usually 'avnadmin')
   - Password
   - Database Name (usually 'defaultdb')

8. Go to https://render.com and sign up with your GitHub account.
9. Click the "New +" button and select "Web Service".
10. Connect your GitHub repository.
11. Set the following Build and Run settings:
   - Environment: Node
   - Build Command: npm install
   - Start Command: npm start
12. Click on "Advanced" and then "Add Environment Variable".
13. Add the following variables:
   - JWT_SECRET: (generate a strong secret)
   - DATABASE_TYPE: mysql
   - DATABASE_URL: (The 'Service URI' from Aiven starting with mysql://)
   - DB_HOST: (from Aiven connection info)
   - DB_USER: (from Aiven connection info)
   - DB_PASSWORD: (from Aiven connection info)
   - DB_NAME: (from Aiven connection info)
   - NODE_ENV: production

14. Click "Deploy Web Service".

------------------------------------------------------------------------
STEP 4: VERIFICATION
------------------------------------------------------------------------
1. The platform will start building your application. You can watch the logs in the dashboard.
2. Once the logs show "Database initialized successfully" and "Server running on ...", your site is live!
3. The platform will provide a URL for your deployed site.

------------------------------------------------------------------------
IMPORTANT NOTES:
------------------------------------------------------------------------
- FREE TIER SLEEP: Both Render and Railway free tiers "sleep" after periods of inactivity. When you visit the site again, it may take 30-60 seconds to wake up.
- SSL/HTTPS: Both platforms provide free SSL automatically.
- NO CREDIT CARD: Free tiers do not require a credit card for basic services.
- DATABASE TYPE: The application now supports both SQLite and MySQL. Use DATABASE_TYPE environment variable to control which one to use.

========================================================================
GUIDE END
========================================================================
